{% extends 'base.html' %}
{% block content %}
<h2>Timesheet for {{ month }}/{{ year }}</h2>
<form method="post">
<table border="1">
    <tr><th>Day</th><th>Status</th><th>Hours</th></tr>
    {% for day in range(1, days+1) %}
    <tr>
        <td>{{ day }}</td>
        <td>
            {% set att = attendance.get(day) %}
            {% if att %}
                {% if att.status == 'Y' %}WFO{% elif att.status == 'N' %}WFH{% else %}Leave{% endif %}
            {% else %}-{% endif %}
        </td>
        <td>
            {% if att and not att.submitted %}
                <input type="number" name="hours_{{day}}" min="0" max="24" step="0.5" value="{{ att.hours or '' }}">
            {% elif att %}
                {{ att.hours or '' }}
            {% else %}-{% endif %}
        </td>
    </tr>
    {% endfor %}
</table>
<button type="submit">Submit Timesheet</button>
</form>
{% endblock %}
